{include file="template/_meta" /}
<title>直播列表</title>

{block name="css"}
<style>
    *{margin: 0; padding: 0; list-style: none;}
    .wrapper{padding: 20px; background-color: #fff;}
    .redStar::before{content: '*'; color: #f00;}
    .my-input-block{display: flex;}
    .my-input-block>div{flex: 1; margin-right: 20px;}
</style>
{/block}

</head>
<body>
    {block name="content"}
        <div class="wrapper">
            {if empty($data)}{volist name="data" id="value"}
            <form class="layui-form" action="{:url('admin/Material/direct_seeding_update')}" method="post" enctype="multipart/form-data">
                <div class="layui-form-item">
                    <label class="layui-form-label"><span class="red">*</span>直播分类</label>
                    <div class="layui-input-block my-input-block">
                        {if !empty($direct)}
                        <select name="classify_name" id="admin_role" class="role_list">
                            {volist name="direct" id="v"}{if condition="$value.classify_name eq $v.title"}
                            <option value="{$v.title}" selected="">{$v.title}</option>
                            {else}
                            <option value="{$v.title}">{$v.title}</option>
                            {/if}{/volist}
                        </select>
                        {else}
                        <select name="classify_name" class="role_list">
                        </select>
                        {/if}
                        </select>
                        <button class="layui-btn">添加分类</button>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label redStar">直播标题</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" value="{$value.title}"required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item layui-form-text">
                    <label class="layui-form-label redStar">介绍内容</label>
                    <div class="layui-input-block">
                        <textarea name="substance" value="{$value.substance}" required lay-verify="required" placeholder="请输入内容" class="layui-textarea"></textarea>
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">直播链接</label>
                    <div class="layui-input-block">
                        <input type="text" name="urls" value="{$value.urls}" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">设备序列号</label>
                    <div class="layui-input-block">
                        <input type="text" name="series_number" value="{$value.series_number}" placeholder="请输入" autocomplete="off" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label"><span class="red">*</span>所属仓库</label>
                    <div class="layui-input-block my-input-block">
                        {if !empty($store_name)}
                        <select name="store_name" id="admin_role" class="role_list">
                        {volist name="store_name" id="v"}{if condition="$value.store_name eq $v.name"}
                        <option value="{$v.name}" selected="">{$v.name}</option>
                        {else}
                        <option value="{$v.name}">{$v.name}</option>
                        {/if}{/volist}
                        </select>
                        {else}
                        <select name="store_name" class="role_list">
                        </select>
                        {/if}
                        </select>
                        <button class="layui-btn">添加仓库</button>
                    </div>
                </div>

                <div class="layui-form-item">
                    <label class="layui-form-label">声音</label>
                    <div class="layui-input-block">
                        <input type="checkbox" name="sound" $value="{$value.sound}"lay-filter="isShow" lay-skin="switch" value="0">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">视频</label>
                    <div class="layui-input-block">
                        <input type="checkbox" name="video"  value="{$value.video}"lay-filter="isShow" lay-skin="switch" value="0">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">单选框</label>
                    <div class="layui-input-block">
                        {if $value.open_status == "公开"}
                        <input type="radio" name="open_status" value="公开"  title="公开" >{else}
                        <input type="radio" name="open_status" value="私有"  title="私有">{/if}
                    </div>
                </div>
                <div class="layui-form-item">
                    <div class="layui-input-block">
                        <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
                        <button class="layui-btn layui-btn-primary" onclick="javascript:history.back(-1);">返回</button>
                    </div>
                </div>
            </form>
            {/volist}{/if}
        </div>
    {/block}

    <!--_footer 作为公共模版分离出去-->
    {include file="template/_footer" /}
    <!--/_footer 作为公共模版分离出去-->

    <!--请在下方写此页面业务相关的脚本-->
    {block name="bottom"}
    <script type="text/javascript">
        layui.config({
            base: "js/"
        }).use(['form', 'layer', 'jquery'], function () {
            var form = layui.form(),
                layer = parent.layer === undefined ? layui.layer : parent.layer,
                $ = layui.jquery,
                upload = layui.upload;
                form.on('switch(isShow)', function (data) {
                    if ($(this).val() == 0) {
                        $(this).val(1);
                    } else {
                        $(this).val(0);
                    }

                });
        })
    </script>

    {/block}
</body>
</html>